language: minimal

jobs:
  include:
    -
      language: node_js
      node_js:
        - 6
      before_script:
        - npm install -g free-programming-books-lint
      script:
        - fpb-lint .

    -
      language: ruby
      if: commit_message =~ /check url/
      rvm: 2.4.1
      before_script:
        - gem install awesome_bot
      script:
        - awesome_bot free-programming-books.md --allow-redirect --allow-dupe --white-list web.archive.org,makinggameswithtypescript.com
